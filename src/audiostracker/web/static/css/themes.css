/* Audiobook Stalkerr - Theme Styles */

/* Dark Theme */
body.dark-theme {
    background-color: #0f0f0f;
    color: #e2e8f0;

    /* Override CSS custom properties for better integration */
    --tblr-bg-primary: #1a1a1a;
    --tblr-bg-secondary: #2d3748;
    --tblr-bg-light: #2d3748;
    --tblr-bg-white: #1a1a1a;
    --tblr-body-bg: #0f0f0f;
    --tblr-body-color: #e2e8f0;
    --tblr-border-color: #2d3748;
    --tblr-text-muted: #718096;
    
    /* Bootstrap variables override */
    --bs-bg-opacity: 1;
    --bs-body-bg: #0f0f0f;
    --bs-body-color: #e2e8f0;
    --bs-border-color: #2d3748;
    --bs-light: #2d3748;
    --bs-light-rgb: 45, 55, 72;
    --bs-white: #1a1a1a;
    --bs-white-rgb: 26, 26, 26;
}

body.dark-theme .control-panel {
    background: #1a1a1a;
    border: 1px solid #2d3748;
}

/* Force override for stubborn white backgrounds */
body.dark-theme .author-card,
body.dark-theme .book-card,
body.dark-theme .card,
body.dark-theme .control-panel,
body.dark-theme .navbar,
body.dark-theme .modal-content {
    background: #1a1a1a !important;
    color: #e2e8f0 !important;
    border-color: #2d3748 !important;
}

body.dark-theme .author-card {
    background: #1a1a1a !important;
    border: 1px solid #2d3748 !important;
}

body.dark-theme .author-header {
    background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%) !important;
    border-bottom-color: #4a5568 !important;
}

body.dark-theme .book-card {
    background: #2d3748;
    border-color: #4a5568;
}

body.dark-theme .book-card.complete {
    background: #1a2e05;
    border-color: var(--success-color);
}

body.dark-theme .book-card.incomplete {
    background: #2d1b07;
    border-color: var(--warning-color);
}

body.dark-theme .form-control {
    background: #2d3748;
    border-color: #4a5568;
    color: #e2e8f0;
}

body.dark-theme .form-control:focus {
    background: #374151;
    color: #f9fafb;
    border-color: var(--primary-color);
}

body.dark-theme .form-select {
    background: #2d3748;
    border-color: #4a5568;
    color: #e2e8f0;
}

body.dark-theme .narrator-item {
    background: #374151;
    border-color: #4a5568;
    color: #e2e8f0;
}

body.dark-theme .navbar-light {
    background: #1a1a1a !important;
    border-bottom: 1px solid #2d3748;
}

body.dark-theme .navbar-light .navbar-brand,
body.dark-theme .navbar-light .nav-link {
    color: #e2e8f0 !important;
}

body.dark-theme .input-group-text {
    background: #2d3748;
    border-color: #4a5568;
    color: #e2e8f0;
}

body.dark-theme .toast {
    background: #1a1a1a;
    border: 1px solid #2d3748;
    color: #e2e8f0;
}

/* Dark Theme Modal Styles */
body.dark-theme .modal-content {
    background: var(--bg-primary, #1a1a1a);
    border: 1px solid var(--border-light, #2d3748);
    color: var(--text-primary, #e2e8f0);
}

body.dark-theme .modal-header {
    background: var(--bg-secondary, #0f1419);
    border-bottom-color: var(--border-light, #2d3748);
}

body.dark-theme .modal-footer {
    background: var(--bg-secondary, #0f1419);
    border-top-color: var(--border-light, #2d3748);
}

body.dark-theme .modal-title {
    color: var(--text-primary, #e2e8f0);
}

body.dark-theme .modal-body .form-label {
    color: var(--text-primary, #e2e8f0);
}

body.dark-theme .modal-body .form-control {
    background: var(--bg-secondary, #0f1419);
    border-color: var(--border-light, #2d3748);
    color: var(--text-primary, #e2e8f0);
}

body.dark-theme .modal-body .form-control:focus {
    background: var(--bg-secondary, #0f1419);
    border-color: var(--primary-color, #667eea);
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
}

body.dark-theme .modal-body .form-control::placeholder {
    color: var(--text-muted, #718096);
}

body.dark-theme .modal-body .form-text,
body.dark-theme .modal-body .help-block,
body.dark-theme .modal-body .form-helper,
body.dark-theme .modal-body small,
body.dark-theme .modal-body .text-muted {
    color: var(--text-muted, #718096);
}

body.dark-theme .btn-close,
body.dark-theme .modal-header .btn-close {
    color: var(--text-muted, #718096);
}

body.dark-theme .btn-close:hover,
body.dark-theme .modal-header .btn-close:hover {
    background: var(--danger-color, #ef4444);
    color: white;
}

body.dark-theme .modal-footer .btn-secondary {
    background: var(--bg-secondary, #0f1419);
    border-color: var(--border-light, #2d3748);
    color: var(--text-secondary, #a0aec0);
}

/* Additional Dark Theme Styles for White Backgrounds */

/* Body and main containers */
body.dark-theme {
    background-color: #0f0f0f !important;
    color: #e2e8f0 !important;
}

body.dark-theme .page-wrapper,
body.dark-theme .container,
body.dark-theme .container-fluid,
body.dark-theme .container-xl {
    background: transparent;
    color: #e2e8f0;
}

/* Statistics Cards - keep gradients but ensure text is visible */
body.dark-theme .stat-card {
    /* Gradients are already appropriate for dark theme */
    color: white;
}

/* Generic Cards */
body.dark-theme .card {
    background: #1a1a1a;
    border-color: #2d3748;
    color: #e2e8f0;
}

body.dark-theme .card-header {
    background: #0f1419;
    border-bottom-color: #2d3748;
    color: #e2e8f0;
}

body.dark-theme .card-body {
    background: #1a1a1a;
    color: #e2e8f0;
}

body.dark-theme .card-footer {
    background: #0f1419;
    border-top-color: #2d3748;
    color: #e2e8f0;
}

/* Search Input */
body.dark-theme .search-input {
    background: #2d3748;
    border-color: #4a5568;
    color: #e2e8f0;
}

body.dark-theme .search-input:focus {
    background: #374151;
    border-color: var(--primary-color);
    color: #f9fafb;
}

/* Tables and DataTables */
body.dark-theme .table {
    color: #e2e8f0;
}

body.dark-theme .table th {
    background: #1a1a1a;
    border-color: #2d3748;
    color: #e2e8f0;
}

body.dark-theme .table td {
    border-color: #2d3748;
    color: #e2e8f0;
}

body.dark-theme .table-striped tbody tr:nth-of-type(odd) {
    background: rgba(45, 55, 72, 0.3);
}

body.dark-theme .table-hover tbody tr:hover {
    background: rgba(45, 55, 72, 0.5);
    color: #f9fafb;
}

/* DataTables specific */
body.dark-theme .dataTables_wrapper {
    color: #e2e8f0;
}

body.dark-theme .dataTables_length select,
body.dark-theme .dataTables_filter input {
    background: #2d3748;
    border-color: #4a5568;
    color: #e2e8f0;
}

body.dark-theme .dataTables_info,
body.dark-theme .dataTables_length label,
body.dark-theme .dataTables_filter label {
    color: #e2e8f0;
}

body.dark-theme .page-link {
    background: #2d3748;
    border-color: #4a5568;
    color: #e2e8f0;
}

body.dark-theme .page-link:hover {
    background: #4a5568;
    border-color: #667eea;
    color: #f9fafb;
}

body.dark-theme .page-item.active .page-link {
    background: var(--primary-color);
    border-color: var(--primary-color);
}

/* Generic White Backgrounds */
body.dark-theme .bg-white {
    background: #1a1a1a !important;
    color: #e2e8f0;
}

body.dark-theme .bg-light {
    background: #2d3748 !important;
    color: #e2e8f0;
}

/* Buttons */
body.dark-theme .btn-light {
    background: #2d3748;
    border-color: #4a5568;
    color: #e2e8f0;
}

body.dark-theme .btn-light:hover {
    background: #4a5568;
    border-color: #667eea;
    color: #f9fafb;
}

body.dark-theme .btn-outline-light {
    border-color: #4a5568;
    color: #e2e8f0;
}

body.dark-theme .btn-outline-light:hover {
    background: #4a5568;
    border-color: #4a5568;
    color: #f9fafb;
}

/* Dropdowns */
body.dark-theme .dropdown-menu {
    background: #1a1a1a;
    border-color: #2d3748;
}

body.dark-theme .dropdown-item {
    color: #e2e8f0;
}

body.dark-theme .dropdown-item:hover,
body.dark-theme .dropdown-item:focus {
    background: #2d3748;
    color: #f9fafb;
}

body.dark-theme .dropdown-divider {
    border-color: #2d3748;
}

/* Alerts */
body.dark-theme .alert {
    border-color: #2d3748;
}

body.dark-theme .alert-light {
    background: #2d3748;
    border-color: #4a5568;
    color: #e2e8f0;
}

/* Breadcrumb */
body.dark-theme .breadcrumb {
    background: #2d3748;
}

body.dark-theme .breadcrumb-item a {
    color: var(--primary-color);
}

/* List Groups */
body.dark-theme .list-group-item {
    background: #1a1a1a;
    border-color: #2d3748;
    color: #e2e8f0;
}

body.dark-theme .list-group-item:hover {
    background: #2d3748;
}

/* Progress Bars */
body.dark-theme .progress {
    background: #2d3748;
}

/* Tooltips and Popovers */
body.dark-theme .tooltip-inner {
    background: #1a1a1a;
    color: #e2e8f0;
}

body.dark-theme .popover {
    background: #1a1a1a;
    border-color: #2d3748;
}

body.dark-theme .popover-body {
    color: #e2e8f0;
}

body.dark-theme .popover-header {
    background: #0f1419;
    border-bottom-color: #2d3748;
    color: #e2e8f0;
}

body.dark-theme .modal-footer .btn-secondary:hover {
    background: var(--bg-primary, #1a1a1a);
    border-color: var(--border-medium, #4a5568);
}

body.dark-theme .shortcuts-modal h6 {
    color: var(--text-secondary, #a0aec0);
    border-bottom-color: var(--border-light, #2d3748);
}

body.dark-theme .shortcut-item {
    border-bottom-color: var(--border-light, #2d3748);
}

body.dark-theme .shortcut-item span {
    color: var(--text-primary, #e2e8f0);
}

body.dark-theme .shortcut-key {
    background: var(--bg-secondary, #0f1419);
    border-color: var(--border-light, #2d3748);
    color: var(--text-secondary, #a0aec0);
}

body.dark-theme .btn-outline-primary {
    color: var(--primary-color);
    border-color: var(--primary-color);
}

body.dark-theme .btn-outline-primary:hover {
    background: var(--primary-color);
    color: white;
}

body.dark-theme .btn-outline-secondary {
    color: #6b7280;
    border-color: #6b7280;
}

body.dark-theme .btn-outline-secondary:hover {
    background: #6b7280;
    color: white;
}

/* Light Theme (default) */
body.light-theme {
    background-color: #f8f9fa;
    color: #333;
}

/* Theme Transition */
body {
    transition: background-color 0.3s ease, color 0.3s ease;
}

body * {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* High Contrast Theme */
body.high-contrast-theme {
    background-color: #000000;
    color: #ffffff;
}

body.high-contrast-theme .control-panel {
    background: #1a1a1a;
    border: 2px solid #ffffff;
}

body.high-contrast-theme .author-card {
    background: #1a1a1a;
    border: 2px solid #ffffff;
}

body.high-contrast-theme .book-card {
    background: #000000;
    border: 2px solid #ffffff;
}

body.high-contrast-theme .form-control {
    background: #000000;
    border: 2px solid #ffffff;
    color: #ffffff;
}

body.high-contrast-theme .btn {
    border: 2px solid #ffffff;
    color: #ffffff;
}

/* Colorblind-friendly Theme */
body.colorblind-theme {
    /* Use colorblind-safe color palette */
    --bs-primary: #0173b2;
    --bs-secondary: #6c757d;
    --bs-success: #029e73;
    --bs-warning: #de8f05;
    --bs-danger: #cc78bc;
    --bs-info: #56b4e9;
}

body.colorblind-theme .stat-card.success {
    background: linear-gradient(135deg, #0173b2 0%, #029e73 100%);
}

body.colorblind-theme .stat-card.warning {
    background: linear-gradient(135deg, #cc78bc 0%, #ca9161 100%);
}

body.colorblind-theme .stat-card.danger {
    background: linear-gradient(135deg, #de8f05 0%, #cc78bc 100%);
}

/* Large Text Theme */
body.large-text-theme {
    font-size: 1.2rem;
}

body.large-text-theme .stat-info h3 {
    font-size: 2.6rem;
}

body.large-text-theme .author-name {
    font-size: 1.5rem;
}

body.large-text-theme .book-field label {
    font-size: 1rem;
}

body.large-text-theme .form-control {
    font-size: 1.1rem;
    padding: 0.75rem 1rem;
}

/* Reduced Motion Theme */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    body.reduced-motion-theme * {
        animation: none !important;
        transition: none !important;
    }
}

/* Print Styles */
@media print {
    body {
        background: white !important;
        color: black !important;
    }
    
    .fab,
    .btn,
    .navbar,
    .control-panel,
    #loading-overlay {
        display: none !important;
    }
    
    .author-card,
    .book-card {
        border: 1px solid #000 !important;
        box-shadow: none !important;
        break-inside: avoid;
    }
    
    .stat-card {
        border: 1px solid #000 !important;
        background: white !important;
        color: black !important;
    }
}
